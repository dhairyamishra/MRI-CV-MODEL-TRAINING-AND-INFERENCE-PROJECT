# Quick Test Configuration for Segmentation
# For fast E2E testing with small dataset

environment:
  name: "quick_test"
  compute: "gpu"

# Data paths (local)
paths:
  data_root: "data"
  processed:
    brats2d: "data/processed/brats2d"
  checkpoints: "checkpoints/seg_test"
  logs: "logs/seg_test"

# Compute settings
compute:
  num_gpus: 1
  num_workers: 0  # Windows compatibility
  pin_memory: false
  mixed_precision: true
  amp_backend: "native"

# Training hyperparameters (QUICK TEST)
training:
  batch_size:
    train: 4
    val: 8
    test: 8
  
  epochs: 5  # Quick test
  learning_rate: 1e-3
  optimizer: "adam"
  weight_decay: 1e-5
  
  scheduler: "cosine"
  warmup_epochs: 0
  grad_clip: 1.0
  
  early_stopping:
    enabled: false  # Disabled for quick test
    patience: 5
    min_delta: 1e-4

# Model architecture
model:
  name: "unet2d"
  in_channels: 1
  out_channels: 1
  base_filters: 32  # Smaller for quick test
  depth: 3  # Shallower network

# Loss function
loss:
  name: "dice_bce"
  dice_weight: 0.5
  bce_weight: 0.5

# Logging
logging:
  log_every_n_steps: 10
  val_every_n_epochs: 1
  save_every_n_epochs: 2
  keep_top_k: 2
  use_wandb: false  # Disabled for quick test
  wandb_project: "slicewise-test"

# Reproducibility
seed: 42
deterministic: false  # Faster training
